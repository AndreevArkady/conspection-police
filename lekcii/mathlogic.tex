\documentclass[a4paper,100pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[unicode, pdftex]{hyperref}
\usepackage{cmap}
\usepackage{mathtext}
\usepackage{multicol}
\setlength{\columnsep}{1cm}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
\usepackage{icomma}
\usepackage{euscript}
\usepackage{mathrsfs}
\usepackage{geometry}
\usepackage[usenames]{color}
\hypersetup{
     colorlinks=true,
     linkcolor=magenta,
     filecolor=magenta,
     citecolor=black,      
     urlcolor=cyan,
     }
\usepackage{fancyhdr}
\pagestyle{fancy} 
\fancyhead{} 
\fancyhead[LE,RO]{\thepage} 
\fancyhead[CO]{\hyperlink{t2}{к списку объектов}}
\fancyhead[LO]{\hyperlink{t1}{к содержанию}} 
\fancyhead[CE]{текст-центр-четные} 
\fancyfoot{}
\newtheoremstyle{indented}{0 pt}{0 pt}{\itshape}{}{\bfseries}{. }{0 em}{ }

%\geometry{verbose,a4paper,tmargin=2cm,bmargin=2cm,lmargin=2.5cm,rmargin=1.5cm}

\title{Матлог. Основные записи}
\author{Мастера конспектов \\ на основе лекций С. О. Сперанского}
\date{22 января 2020 г.}

\theoremstyle{indented}
\newtheorem{theorem}{Теорема}
\newtheorem{lemma}{Лемма}

\theoremstyle{definition} 
\newtheorem{defn}{Определение}
\newtheorem{exl}{Пример(ы)}

\theoremstyle{remark} 
\newtheorem{remark}{Примечание}
\newtheorem{cons}{Следствие}
\newtheorem{exer}{Упражнение}
\newtheorem{stat}{Утверждение}

\DeclareMathOperator{\la}{\leftarrow}
\DeclareMathOperator{\ra}{\rightarrow}
\DeclareMathOperator{\lra}{\leftrightarrow}
\DeclareMathOperator{\La}{\Leftarrow}
\DeclareMathOperator{\Ra}{\Rightarrow}
\DeclareMathOperator{\Lra}{\Leftrightarrow}
\DeclareMathOperator{\Llra}{\Longleftrightarrow}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Imf}{Im}
\DeclareMathOperator{\cont}{cont}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\ev}{ev}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\chard}{char}
\DeclareMathOperator{\CC}{\mathbb{C}}
\DeclareMathOperator{\ZZ}{\mathbb{Z}}
\DeclareMathOperator{\RR}{\mathbb{R}}
\DeclareMathOperator{\NN}{\mathbb{N}}
\DeclareMathOperator{\codim}{codim}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\Prop}{Prop}
\DeclareMathOperator{\LL}{\mathscr{L}}
\DeclareMathOperator{\KK}{\mathscr{K}}
\DeclareMathOperator{\form}{Form}
\DeclareMathOperator{\Pred}{Pred}
\DeclareMathOperator{\Func}{Func}
\DeclareMathOperator{\Const}{Const}
\DeclareMathOperator{\arity}{arity}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Term}{Term}
\DeclareMathOperator{\sub}{sub}
\DeclareMathOperator{\Sub}{Sub}
\DeclareMathOperator{\Atom}{Atom}
\DeclareMathOperator{\FV}{FV}
\DeclareMathOperator{\Sent}{Sent}
\DeclareMathOperator{\Th}{Th}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Eq}{Eq}
\DeclareMathOperator{\GA}{\mathfrak{A}}
\DeclareMathOperator{\GB}{\mathfrak{B}}
\DeclareMathOperator{\GC}{\mathfrak{C}}
\DeclareMathOperator{\GD}{\mathfrak{D}}

\begin{document}

\newcommand{\resetexlcounters}{%
  \setcounter{exl}{0}%
} 

\newcommand{\resetremarkcounters}{%
  \setcounter{remark}{0}%
} 

\newcommand{\reseconscounters}{%
  \setcounter{cons}{0}%
} 

\newcommand{\resetall}{%
    \resetexlcounters
    \resetremarkcounters
    \reseconscounters%
}

\maketitle 

\newpage

\hypertarget{t1}{Основные моменты}. 
\tableofcontents

\newpage

\section{Лекция 1.}

\begin{defn}
  \textit{Конкатенация} - записали подряд два слова. ($A$ - алфавит, $A^*$ - слова).
\end{defn}

\begin{defn}
  \textit{Подслово} - как есть, \textit{вхождение} - учитываем, где начинается подслово. Если подслово стоит в начале, то мы его и называем \textit{начало}, а обозначаем как $\psi \sqsubseteq \varphi$.
\end{defn}

\begin{defn}
  $w[w'/u, k]$ - замена подслова $w'$ на $u$, начинающегося в позиции $k$.
\end{defn}

\begin{defn}
  Фиксированное счётное множество $\Prop$ - \textit{пропозициональные переменные}. Язык $\LL$ классической пропозициональной логики состоит из переменных, а также символов $\rightarrow, \vee, \wedge, \neg$ и круглых скобочек.
\end{defn}

\begin{defn}
  $\form$ (формулы) - наименьшее множество слов в алфавите, замкнутое относительно следующих порождающих правил:
  \begin{itemize}
    \item если $p\in \Prop$, то $p\in \form$; 
    \item если $\{\varphi, \psi\}\subseteq \form$, то $(\varphi*\psi)\in \form$, где $*$ - любая из операций в определении выше (если отрицание, то отсительно одногой формулы, конечно).
  \end{itemize}
\end{defn}

\begin{lemma}
  Пусть $\{\varphi , \psi\}\subseteq \form$ таковы, что $\psi \sqsubseteq \varphi$. Тогда $\psi = \varphi$. 
\end{lemma}

\begin{proof}
  По индукции по мощности большей формулы. База - переменная, очевидно. Иначе $\psi$ представляется в виде ''композиции'' единственным образом, тогда возьмём первую часть этой композиции и сравним с первой частью того, как $\varphi$ представляется в виде ''композиции''. По предположению индукции они должны совпасть, продолжение тривиально.
\end{proof}

\begin{lemma}
  Каждую $\varphi \in \form \backslash \Prop$ можно единственным способом представить в виде $(\theta \rightarrow \chi)$, $(\theta \vee \chi)$, $(\theta \wedge \chi)$ или $\neg\theta$, где $\{\theta, \chi\}\subseteq \form$ (это я везде безграмотно называю \textit{композицией}). 
\end{lemma}

\begin{proof}
  От противного по лемме 2.
\end{proof}

\begin{defn}
  Для каждой $\varphi\in \form$ определим $\Sub(\varphi):=\{\psi\in \form|\psi \preccurlyeq \varphi\}$ - \textit{подформулы}.
\end{defn}

\begin{lemma}
  Пусть $\varphi \in \form$. Тогда каждое вхождение $\neq$ или $($ является началом вхождения некоторой подформулы.
\end{lemma}

\begin{proof}
  Возвратная индукция по длине формулы.
\end{proof}

\begin{lemma}
  Множество подслов $\varphi$ - объединение множеств подслов элементов его композиции и его самого.
\end{lemma}

\begin{proof}
  Из лемм выше.
\end{proof}

\begin{defn}
  \textit{Оценка} ($v$) - произвольная функция из $\Prop$ в $\{0, 1\}$, которую можно расширить и до $\form$ ($v^*$) посредством применения операций к переменным. Если $v^*(\varphi)=1$, то порой пишут $v \Vdash \varphi$.
\end{defn}

\begin{defn}
  Формулу называют \textit{выполнимой}, если $v \Vdash \varphi$ для некоторой оценки, и \textit{общезначимой} (тождественно истинной или тавтологией), если $v \Vdash \varphi$ для всех оценок.
\end{defn}

\begin{defn}
  Формула \textit{семантически следует} из множества формул и записывается $\Gamma \vDash \varphi$, если для любой оценки $v$, любая формула из множества истина, то $\varphi$ истина.  \ 
  
  Формулы называют \textit{семантически эквивалентны}, и пишут $\varphi \equiv \psi$, если $\vDash \varphi \leftrightarrow \psi$. 
\end{defn}


\section{Лекция 2.}

В Гильбертовском исчислении для классической пропозициональной логики используются следующие схемы аксиом (implication, conjunction, disjunction, negotiation): 

\begin{itemize}
  \item (I1). $\varphi\rightarrow (\psi\rightarrow \varphi)$;
  \item (I2). $\varphi\rightarrow (\psi\rightarrow \chi)\rightarrow((\varphi\rightarrow \psi)\rightarrow (\varphi\rightarrow \chi))$; 
  \item (C1). $\varphi \wedge \psi \rightarrow \varphi$; 
  \item (C2). $\varphi \wedge \psi \rightarrow \psi$; 
  \item (C3). $\varphi\rightarrow (\psi \rightarrow \varphi \wedge \psi)$;
  \item (D1). $\varphi\rightarrow \varphi \vee\psi$;
  \item (D2). $\psi\rightarrow \varphi \vee \psi$; 
  \item (D3). $(\varphi\rightarrow \chi)\rightarrow((\psi\rightarrow \chi)\rightarrow (\varphi\vee\psi\rightarrow\chi))$;
  \item (N1). $(\varphi\rightarrow \psi)\rightarrow((\varphi\rightarrow \neg \psi)\rightarrow \neg \varphi)$; 
  \item (N2). $\neg\varphi \rightarrow (\varphi\rightarrow \psi)$; 
  \item (N3). $\varphi \vee \neg \varphi$, 
\end{itemize}

а также, одно \textit{правило вывода}, которое называется \textit{modus ponents}:

\begin{center}
  \begin{tabular}{c c c c c}
    $\varphi$ & & $\varphi$ & $\rightarrow$ & $\psi$ \\ 
    \hline
    & & $\psi$ & & 
  \end{tabular}
\end{center}

\begin{defn}
  Пусть $\Gamma \subseteq \form$, тогда \textit{выводом} из него в гильбертовском исчислении понимают конечную последовательность $\varphi_0, \ldots, \varphi_n$ ($n\in \NN$) элементов $\form$, что для каждого $i\in\{0, \ldots, n\}$ выполнено одно из следующиъ условий: 

  \begin{itemize}
    \item $\varphi_i$ - аксиома; 
    \item $\varphi_i$ - элемент $\Gamma$; 
    \item $\exists \{j, k\}\subseteq\{0, \ldots, i-1\}$ такие, что $\varphi_k$ есть $\varphi_j\rightarrow \varphi_i$. 
  \end{itemize}
  При этом, $\varphi_n$ - \textit{заключение}, а элементы $\Gamma$ - \textit{гипотезы}. Если $\varphi$ выводится из $\Gamma$, то пишут $\Gamma \vdash \varphi$. 
\end{defn}

Основные свойства $\vdash$:

\begin{itemize}
  \item монотонность; 
  \item транзитивность;
  \item компактность (если $\Gamma \vdash \varphi$, то $\Delta \vdash \varphi$ для некоторого конечного $\Delta \subseteq \Gamma$).
\end{itemize}

\begin{theorem}
  (О дедукции). Для любых $\Gamma \cup \{\varphi, \psi\}\subseteq \form$, 
  \[
    \Gamma \cup \{\varphi\}\vdash \psi \Longleftrightarrow \Gamma \vdash \varphi \rightarrow \psi. 
  \]
\end{theorem}

\begin{proof}
  В одну правую сторону очевидно, в обратную - по индукции по $i\in\{0, 1, \ldots, n\}$ показываем, что $\Gamma\vdash \varphi\rightarrow \psi_i$, там три случая, и все, кроме одного, тривиальны.
\end{proof}

Введём обозначения: $\top:= p\rightarrow p$ и $\perp := \neg \top$, где $p$ - фиксированная пропозициональная переменная.

\begin{cons}
  Для любых $\Gamma\cup \{\varphi\}\subseteq \form$, 
  \[
    \Gamma \vdash \varphi \Longleftrightarrow \vdash \bigwedge_{i=1}^n \psi_i\rightarrow \varphi
  \]
  для некоторых $\{\varphi_1, \ldots, \varphi_n\}\subseteq \Gamma$.
\end{cons}

\begin{proof}
  Влево - очевидно, вправо - очевидно и применяется теорема о дедукции.
\end{proof}

\begin{lemma}
  Всякая аксиома гильбертовского исчисления для классической пропозициональной логики общезначима.
\end{lemma}\ 


\begin{theorem}
  (О корректности). Для любых $\Gamma \cup \{\varphi\}\subseteq \form$, 
  \[
    \Gamma \vdash \varphi \Longrightarrow \Gamma \vDash \varphi. 
  \]
\end{theorem}

\begin{proof}
  Фиксируем вывод $\varphi_0, \ldots, \varphi_n = \varphi$. Затем рассматриваем произаольную оценку $v$ такую что $v\Vdash \psi$ для всех $\psi \in \Gamma$ и покажем по индукции по $i\in\{0, \ldots, n\}$, что $v\Vdash \varphi_i$.
\end{proof}

\begin{defn}
  $\Gamma \subseteq \form$ называется \textit{простой теорией}, если оно обладает следующими свойствами:

  \begin{itemize}
    \item $\Gamma \neq \form$; 
    \item $\{\varphi \in \form |\Gamma \vdash \varphi\}\subseteq \Gamma$; 
    \item для любого $\varphi \vee \psi \in \Gamma$ верно $\varphi \in \Gamma$ или $\psi \in \Gamma$. 
  \end{itemize}
\end{defn}

\begin{lemma}
  Пусть $\Gamma$ - простая теория, тогда для любых её элементов можно переписать действия над ними в рамках принадлежности к теории.
\end{lemma}\

\begin{lemma}
  (О расширении. a.k.a. Линденбаума). Пусть $\Gamma \cup \{\varphi \}\subseteq \form$ таковы, что $\Gamma \nvdash \varphi$. Тогда существует простая теория $\Gamma'\supseteq \Gamma$ такая, что $\Gamma' \nvdash \varphi$.
\end{lemma}

\begin{proof}
  Рекурсивно докидываем к $\Gamma$ элементы $\form$ (их счётно).
\end{proof}

\section{Лекция 3.}

Для каждой простой теории $\Gamma$ определим оценку $v_\Gamma$ по правилу $v_\Gamma(p):=1$, если $p\in \Gamma$ и 0 иначе. \\

\begin{lemma}
  Пусть $\Gamma$ - простая теория. Тогда для любой $\varphi \in \form$, 
  \[
    v_\Gamma \Vdash \varphi \Longleftrightarrow \varphi \in \Gamma
  \]
\end{lemma}

\begin{proof}
  Индукция по построению $\varphi$, используя лемму 6.
\end{proof}

\begin{theorem}
  (О сильной полноте $\vdash$). Для любых $\Gamma\cup \{\varphi\}\subseteq \form$, 
  \[
    \Gamma \vdash \varphi \Llra \Gamma \vDash \varphi. 
  \]
  В частности, $\Gamma \nvdash \perp$ если и только если $\Gamma \nvDash \perp$, а значит, $\Gamma$ непротиворечиво если и только если $\Gamma$ выполнимо.
\end{theorem}

\begin{proof}
  Вправо - теорема о корректности, влево - от противного, рассматриваем $\Gamma'$, как в лемме 7.
\end{proof}

\begin{theorem}
  (О слабой полноте $\vdash$). Для любой $\varphi \in \form$, 
  \[
    \vdash \varphi \Llra \vDash \varphi
  \]
  то есть, выводимость из пустого равносильна обзезначимости,
\end{theorem}\ 

\begin{theorem}
  (О компактности $\vDash$). Для любых $\Gamma \cup \{\varphi\}\subseteq \form$, 
  \[
    \Gamma \vDash \varphi \Llra \Delta \vDash \varphi
  \]
  для некоторого конечного $\Delta \subseteq \Gamma$. В частности, $\Gamma \nvDash \perp$ тогда и только тогда, когда $\Delta \nvDash \perp$ для всех конечных $\Delta \subseteq \Gamma$, а значит, $\Gamma$ выполнимо тогда и только тогда, когда всякое конечное подмножество $\Gamma $ выполнимо.
\end{theorem}

\begin{stat}
  Слабая полнота $\vdash$ плюс компактность $\vDash$ равно сильная полнота $\vdash$. 
\end{stat}

\begin{defn}
  \textit{Сигнатура} - четвёрка вида 
  \[
    \sigma = \langle \Pred_\sigma, \Func_\sigma, \Const_\sigma, \arity_\sigma \rangle,
  \]
  где первые три - попарно непересекающиеся множества, а последнее - функция из $\Pred_\sigma \cup \Func_\sigma$ в $\NN\backslash \{0\}$. 
\end{defn}

\begin{defn}
  \textit{$\sigma$-структура} - пара вида 
  \[
    \GA = \langle A, I_{\GA}\rangle, 
  \]
  где $A$ - непустое множество, а $I_{\GA}$ - функция с областью определения $\Pred_\sigma \cup \Func_\sigma \cup \Const_\sigma$, такая что:

  \begin{itemize}
    \item для любого $n$-местного $P\in \Pred_\sigma$ верно $I_{\GA}(P)\subseteq A^n$; 
    \item для любого $m$-местного $f\in \Func_\sigma$ верно $I_{\GA}(f):A^m\ra A$; 
    \item для любого $c\in\Const_\sigma$ верно $I_{\GA}(c)\in A$. 
  \end{itemize}

  При этом, $A$ - носитель, а $I_{\GA}$ - интерпретация $\sigma$ в $\GA$. 
\end{defn}

\begin{defn}
  Пусть $\GA$ b $\GB$ - две $\sigma$-структуры. Говорят, что $\xi: A\ra B$ есть \textit{гомоморфизм} из $\GA$ в $\GB$, если выполнены следующие условия:

  \begin{itemize}
    \item для любого $n$-местного предиката и всех $(a_1, \ldots, a_n)\in A^n$, 
    \[
      (a_1, \ldots, a_n)\in P^{\GA} \Ra (\xi(a_1), \ldots, \xi(a_n)) \in P^{\GB}; 
    \]
    \item для любого $m$-местного функционала и всех $(a_1, \ldots, a_m)\in A^m$, 
    \[
      \xi(f^{\GA}(a_1, \ldots, a_m))=f^{\GB}(\xi(a_1), \ldots, \xi(a_m)); 
    \]
    \item для любой константы, 
    \[
      \xi(c^{\GA})=c^{\GB}.
    \]
  \end{itemize}
\end{defn}

\begin{defn}
  Инъективный гомоморфизм называют \textit{сложением}, если выполнено усиление первого пункта, где следствие заменяется на равносильность.
\end{defn}

\begin{defn}
  Сюръективное вложение называют \textit{изоморфизмом} и пишут $\GA \simeq \GB$, если они изоморфны, т.е. между ними существует изоморфизм.
\end{defn}

\begin{defn}
  \textit{Автоморфизм} - изоморфизм на себя. $\Aut(\GA)$ - множество всех автоморфизмов $\GA$. 
\end{defn}

\section{Лекция 4.} 

\begin{defn}
  \[
    \Var:=\{v_0, v_1, v_2, \ldots \}
  \]
  есть фиксированное на всю жизнь счётное множество \textit{предметных переменных} или просто \textit{переменных}.
\end{defn}

\begin{defn}
  \textit{Язык} $\LL_\sigma$ кванторной классической логики над сигнатурой $\sigma$ состоит из элементов $\Pred_\sigma \cup \Func_\sigma \cup \Const_\sigma \cup \Var$, а также \textit{символов связок}, \textit{символов кванторов} и \textit{вспомогательных символов}.
\end{defn}

\begin{defn}
  $\Term_\sigma$ - наименьшее множество слов в алфавите $\LL_\sigma$, замкнутое относительно следующих порождающих правил: 
  
  \begin{itemize}
    \item если $x\in \Var$, то $x\in \Term_\sigma$; 
    \item если $c\in \Const_\sigma$, то $c\in \Term_\sigma$; 
    \item если $f\in \Func_\sigma$, $\arity_\sigma (f)=n$ и $\{t_1, \ldots, t_n\}\subseteq \Term_\sigma$, то 
    \[
      (t_1, \ldots, t_n)\in \Term_\sigma.
    \]
  \end{itemize}

  Элементы $\Term_\sigma$ называют \textit{$\sigma$-термами}.
\end{defn}

\begin{defn}
  $\Form_\sigma$ - наименьшее множество слов в алфавите $\LL_\sigma$, замкнутое относительно следующих порождающих правил:

  \begin{itemize}
    \item если $P\in \Pred$, $\arity_\sigma(P)=n$ и $\{t_1, \ldots, t_n\}\subseteq \Term_\sigma$, то 
    \[
      P(t_1, \ldots, t_n)\in \form_\sigma; 
    \]
    \item если $\{\Phi, \Psi\}\subseteq \form_\sigma$, то 
    \[
      \{(\Phi\ra \Psi), (\Phi\vee \Psi), (\Phi\wedge \Psi), \neg \Phi \} \subseteq \form_\sigma; 
    \]
    \item если $\Phi \in \form_\sigma$ и $x \in \Var$, то
    \[
      \{\forall x \: \Phi, \exists x \: \Phi\} \subseteq \form_\sigma.
    \]
  \end{itemize}

  Элементы которого называются \textit{$\sigma$-формулами}. Атомарными формулами называются формулы, которые не содержат ни символов связок, ни символов кванторов. Их множество - $\Atom_\sigma$. 
\end{defn}

\begin{remark}
  Для понимания, кажется, $\Term$ - выражения с переменными, константами, действиями и т.д., а вот $\form$ - сравнения выражений (в частности), логические утверждения, кванторные.
\end{remark}

\begin{defn}
  Для любых $t\in \Term_\sigma$ и $\Phi\in \form_\sigma$ определим 

  \begin{equation*}
    \begin{aligned}
      \sub(t) & := \{s \in \Term_\sigma | s\preccurlyeq t\}, \\
      \Sub(\Phi) & := \{\Psi \in \form_\sigma | \Psi\preccurlyeq \Phi\}, 
    \end{aligned}
  \end{equation*}

  которые называются соответственно \textit{подтермами} и \textit{подформулами}.
\end{defn}

\begin{lemma}
  Пусть $\{t, s\}\subseteq \Term_\sigma$ таковы, что $t\sqsubseteq s$. Тогда $t=s$. 
\end{lemma} \

\begin{lemma}
  (О единственности представления термов). Всякий $t\in \Term_\sigma \backslash (\Var\cup\Const_\sigma)$ можно единственным образом представить в виде $f(t_1, \ldots, t_n)$, где $f\in \Func_\sigma$, $\arity_\sigma(f)=n$ и $\{t_1, \ldots, t_n\}\subseteq \Term_\sigma$. 
\end{lemma} \

\begin{lemma}
  Пусть $t\in \Term_\sigma$ и $f\in \Func_\sigma$. Тогда всякое вхождение $f$ в $t$ является началом вхождения некоторого подтерма.
\end{lemma} \

\begin{lemma}
  (О подтермах). Пусть $t\in\Term_\sigma$. 

  \begin{itemize}
    \item если $t\in \Var \cup \Const_\sigma$, то $\sub(t)=\{t\}$;
    \item если $t=f(t_1, \ldots, t_n)$, где $f\in \Func_\sigma$, $\arity_\sigma(f)=n$ и $\{t_1, \ldots, t_n\}\subseteq \Term_\sigma$, то 
    \[
      \sub(t)=\sub(t_1)\cup\ldots\cup \sub(t_n)\cup \{ t \}. 
    \]
  \end{itemize}
\end{lemma} \ 

\begin{lemma}
  (О единственности представления атомов). Всякий $\Phi \in \Atom$ можно единственными образом представить в виде $P(t_1, \ldots, t_n)$, где $P\in \Pred_\sigma$, $\arity_\sigma(P)=n$ и $\{t_1, \ldots, t_n\}\subseteq \Term_\sigma$. 
\end{lemma} \ 

\begin{lemma}
  Пусть $\{\Phi, \Psi\}\subseteq \form_\sigma$ таковы, что $\Phi \sqsubseteq \Psi$. Тогда $\Phi = \Psi$. 
\end{lemma} \ 

\begin{lemma}
  (О единственности представления формул). Всякую $\Phi\in \form_\sigma \backslash \Atom_\sigma$ можно единственным образом представить в виде комбинации формул (одной или двух) и символов связок или символов кванторов.
\end{lemma} \ 

\begin{lemma}
  Пусть $\Phi\in \form_\sigma$. Тогда всякое вхождение $\neg$, $($, $\forall$ или $\exists$ в $\Phi$ является началом вхождения некоторой подформулы.
\end{lemma} \ 

\begin{lemma}
  Пусть $\Phi \in \form_\sigma$. 

  \begin{itemize}
    \item Если $\Phi \in \Atom_\sigma$, то $\Sub (\Phi)=\{ \Phi\}$;
    \item Если $\Phi = (\Theta \circ \Omega)$, где $\{\Theta, \Omega\}\subseteq \form_\sigma$ и $\circ \in \{\ra, \wedge, \vee\}$, то 
    \[
      \Sub(\Phi)=\Sub(\Theta)\cup \Sub(\Omega)\cup \{\Phi\};
    \]
    \item Если $\Phi=\neg \Theta$, где $\Theta \in \form_\sigma$, или $\Phi=Q\times \Theta$, где $x\in \Var$, $\Theta \in \form_\sigma$ и $Q\in \{\forall, \exists\}$, то 
    \[
      \Sub(\Phi)= \Sub(\Theta)\cup \{\Phi\}. 
    \]
  \end{itemize}
\end{lemma}

\begin{defn}
  Пусть $\Phi \in \form_\sigma$, $x\in \Var$ и $Q\in \{\forall, \exists\}$. Тогда каждое вхождение $Qx$ в $\Phi$ является началом вхождения некоторой подформулы, причём последнее определяется однозначно; его называют \textit{областью действия} данного вхождения $Qx$. Вхождение $x$ в $\Phi$ называется \textit{связанным}, если оно входит в область действия какого-нибудь вхождения $\forall x$ или $\exists x$, и \textit{свободным} иначе. Далее, говорят, что $x$ является \textit{свободной переменной} в $\Phi$, если у $x$ есть хотя бы одно свободное вхождение в $\Phi$. \ 

  Скажем, что $\FV(\Phi)$ - множество $z\in \Var$ таких, что у $z$ имеется хотя бы одно свободное вхождение в $\Phi$. Интуитивно, элементы этого множества играют роль параметров $\Phi$, а запись $\Phi(x_1, \ldots, x_l)$ указывает на то, что $FV(\Phi)\subseteq \{x_1, \ldots, x_l\}$. 
\end{defn}

\begin{defn}
  \[
    \Sent_\sigma := \{\Phi \in \form_\sigma | \FV (\Phi)=\emptyset\}/ 
  \]
  Элементы которого называют \textit{$\sigma$-предложениями}. Они могут выступать в качестве \textit{нелог. аксиом}.
\end{defn}

\begin{defn}
  $t$ называем \textit{свободным для подстановки} вместо $x$ в $\Phi$, если ни одно из свободных вхождений $x$ в $\Phi$ не находится в области действия квантора по переменной из $t$. 
\end{defn}

\begin{defn}
  \textit{Означивание переменных} - функции из $\Var$ в $A$. Каждое означивание $v$ в $\GA$ можно расширить до $\overline{v}:\Term_\sigma \ra A$ естественным образом: 

  \begin{equation*}
    \begin{aligned}
      \overline{v}(x) & := v(x); \\ 
      \overline{v}(c) & := c^{\GA}; \\
      \overline{v}(f(t_1, \ldots, t_n)) & := f^{\GA}(\overline{v}(t_1), \ldots, \overline{v}(t_n)).
    \end{aligned}
  \end{equation*}

  А через $v^x_a$  ($x$ - переменная, $a$ - элемент$A$) будет обозначаться особенное означивание такое, что оно равно $v^x_a(y)=a$, если $y=x$ и $v(y)$ - иначе.
\end{defn}

\begin{defn}
  Определим $\GA \Vdash \Phi[v]$ индукцией по построению $\Phi$. Короче, надо просто расписать все логические связки и кванторы, что они означают. Когда эта вещь выполнена, мы будем говорить, что $\Phi$ \textit{истинно} в $\GA$ при $v$. 
\end{defn}

\begin{defn}
  Пусть $\Gamma \subseteq \Sent_\sigma$. Поворят, что $\GA$ \textit{является моделью} $\Gamma$ и пишут $\GA \Vdash \Gamma$, если $\GA \Vdash \Phi$ для всех $\Phi\in \Gamma$. 
\end{defn}

\begin{theorem}
  Пусть $\xi$ - изоморфизм из $\GA$ на $\GB$. Тогда для каждой $\sigma$-формулы $\Phi$ и любого означивания $v$ в $\GA$, 
  \[
    \GA \Vdash \Phi[v] \Llra \GB \Phi[v\circ \xi]. 
  \]
\end{theorem}

\begin{proof}
  Примем $\mu:=v\circ \xi$, заметим, что $\overline{\mu}(t) = \xi (\overline{v}(t))$, а потом провернём индукции по построению $\Phi$. 
\end{proof}

\begin{defn}
  Для произвольного класса $\KK$ $\sigma$-структур Предположим
  \[
    \Th(\KK):=\{\Phi\in \Sent_\sigma |\GA \Vdash \Phi \text{ для всех }\GA \in \KK\}.
  \]
  Говорят, что $\GA$ и $\GB$ \textit{элементарно эквивалентны}, если $\Th(\GA)=\Th(\GB)$. 
\end{defn}

\begin{cons}
  Изоморфные структуры элементарно эквивалентны.
\end{cons}

\section{Лекция 5.}

\begin{defn}
  $S\subseteq A^l$ называется \textit{определимым в $\GA$}, если существует $\sigma$-формула $\Phi(x_1, \ldots, x_l)$ такая, что 
  \[
    S=\{\vec{a}\in A^l|\GA\Vdash \Phi[\vec{a}]\}; 
  \]
  в этом случае говорят, что \textit{$\Phi$ определяет $S$ в $\GA$}. 
\end{defn}

\begin{defn}
  $\supp(n)$ - множество всех простых делителей $n\in \NN$. 
\end{defn}

\begin{stat}
  Пусть $S$ определимо в $\GA$. Тогда для любого $\xi\in \Aut(\GA)$, 
  \[
    \xi[S]\subseteq S, 
  \]
  то есть, $S$ замкнуто относительно автоморфизмов $\GA$. 
\end{stat}

\begin{stat}
  $\sigma$-структуру $\GA$ называют \textit{нормальной}, если $=$ интерпретируется в $\GA$ как настоящее равенство, то есть, $=^{\GA}$ совпадает с $\id_A$.
\end{stat}

\begin{defn}
  $\Eq_\sigma$ - множество состоящее из $\sigma$-предложений

  \begin{itemize}
    \item $\forall x \: x=x$; 
    \item $\forall x \forall y (x=y\ra y=x)$; 
    \item $\forall x \forall y \forall z (x=y \wedge y=z \ra x=z)$;
  \end{itemize}
  а также всех $\sigma$-предложений видов 

  \begin{itemize}
    \item $\forall x_1 \forall y_1 \ldots \forall x_n \forall y_n (\vec{x}=\vec{y}\ra (P(\vec{x})\leftrightarrow P(\vec{y})))$; 
    \item $\forall x_1 \forall y_1 \ldots \forall x_m \forall y_m (\vec{x}=\vec{y}\ra f(\vec{x}) = f(\vec{y}))$, 
  \end{itemize}
  где $P\in \Pred_\sigma$ и $f\in \Func_\sigma$, причём $\arity_\sigma(P)=n$ и $\arity_\sigma(f)=m$. Под \textit{аксиомами равенства для $\sigma$} понимают элементы $\Eq_\sigma$. 
\end{defn}

\begin{defn}
  Обозначим за $\GA'$ нормальную $\sigma$-структуру с носителем $A_{/=^{\GA}}$ такую, что мы заменяем константы и функционалы $\GA$ (произвольная модель $\Eq_\sigma$) на их классы эквивалентности по равенству, и оставляем все предикаты.
\end{defn}

\begin{theorem}
  Для любых $\sigma$-формул $\Phi$ и означивания $v$ в $\GA$ 
  \[
    \GA \Vdash \Phi[v] \Llra \GA'\Vdash \Phi[v'], 
  \]
  где $v'$ отображает каждую $x\in \Var$ в $[v(x)]$. 
\end{theorem}

\begin{proof}
  Для начала, как в ещё одном недавнем доказательстве заметим, что для всех $t\in \Term_\sigma$, 
  \[
    \overline{v}'=[\overline{v}(t)],
  \]
  что несложно доказывается индукцией по построению $t$, а затем опять же, индукция по постоению самой $\Phi$. 
\end{proof}

\begin{cons}
  Для каждого $\Gamma\subseteq \Sent_\sigma$ следующие условия эквивалентны: 

  \begin{itemize}
    \item у $\Gamma$ есть нормальная модель; 
    \item у $\Gamma \cup \Eq_\sigma$ есть модель.
  \end{itemize}
\end{cons}

\begin{defn}
  $\sigma$-формулу $\Phi$ называют 

  \begin{itemize}
    \item \textit{выполнимой}, если $\GA \Vdash \Phi[v]$ для некоторых $\GA$ и $v$; 
    \item \textit{общезначимой}, если $\GA\Vdash \Phi[v]$ для всех $\GA$ и $v$. 
  \end{itemize}
\end{defn}

\begin{defn}
  Пусть $\Phi \in \form_\sigma$ и $x_1, \ldots, x_l$ - в точности все элементы $\FV(\Phi)$ в порядке их появления в $\Phi$. Определим тогда \textit{универсальное замыкание} $\tilde{\forall}$ - $\forall x_1 \ldots \forall x_l \Phi$ и \textit{экзистенциальное замыкание} $\tilde{\exists}$ аналогично.
\end{defn}

\begin{defn}
  Пусть $\Gamma \subseteq \Sent_\sigma$ и $\Phi \in \form_\sigma$. Говорят, что \textit{$\Phi$ семантически следует из $\Gamma$}, и пишут $\Gamma \vDash \Phi$, если для любой $\GA$, 
  \[
    \GA \Vdash \Gamma \Longrightarrow \GA \Vdash \tilde{\forall}\Phi. 
  \]
  Если выполнено $\vDash \Phi \leftrightarrow \Psi$, то такие формулы называют \textit{семантически эквивалентными} и пишут $\Phi \equiv \Psi$. 
\end{defn}

\begin{defn}
  $\sigma$-формула $\Phi$ называется \textit{бескванторной}, если в ней нет кванторов.
\end{defn}

\begin{defn}
  Под \textit{пренексными нормальными формами} понимаются $\sigma$-формулы вида 
  \[
    Q_1 x_1 \ldots Q_l x_l \Psi,
  \]
  где $Q_i$ - кванторы, $x_i$ - переменные и $\Psi$ бескванторная.
\end{defn}




\end{document}